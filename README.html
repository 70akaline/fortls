<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fortls - Fortran Language Server &mdash; fortls 0.1.dev1+gcf40a4d documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configuration options" href="options.html" />
    <link rel="prev" title="fortls – Fortran Language Server" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> fortls
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">fortls - Fortran Language Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#features">Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notes-limitations">Notes/Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fortls-vs-fortran-language-server"><code class="docutils literal notranslate"><span class="pre">fortls</span></code> vs <code class="docutils literal notranslate"><span class="pre">fortran-language-server</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pypi">PyPi</a></li>
<li class="toctree-l3"><a class="reference internal" href="#anaconda">Anaconda</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-installation-problems">Common installation problems</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#settings">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#implemented-server-requests">Implemented server requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bug-reports">Bug reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license">License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Configuration options</a></li>
<li class="toctree-l1"><a class="reference internal" href="editor_integration.html">Editor Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="fortls_changes.html">Unique fortls features (not in fortran-language-server)</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Developers’ documentations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fortls</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>fortls - Fortran Language Server</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p><img alt="alt" src="https://raw.githubusercontent.com/gnikit/fortls/master/assets/logo.png" /></p>
<section id="fortls-fortran-language-server">
<h1>fortls - Fortran Language Server<a class="headerlink" href="#fortls-fortran-language-server" title="Permalink to this headline"></a></h1>
<p><img alt="PyPI" src="https://img.shields.io/pypi/v/fortls" />
<img alt="PyPI - Python Version" src="https://img.shields.io/pypi/pyversions/fortls" />
<a class="reference external" href="https://github.com/gnikit/fortls/actions/workflows/main.yml"><img alt="Tests" src="https://github.com/gnikit/fortls/actions/workflows/main.yml/badge.svg" /></a>
<a class="reference external" href="https://github.com/gnikit/fortls/actions/workflows/docs.yml"><img alt="Documentation" src="https://github.com/gnikit/fortls/actions/workflows/docs.yml/badge.svg" /></a>
<a class="reference external" href="https://codecov.io/gh/gnikit/fortls"><img alt="codecov" src="https://codecov.io/gh/gnikit/fortls/branch/master/graph/badge.svg?token=ZEXUX0R65M" /></a>
<a class="reference external" href="https://github.com/gnikit/fortls/blob/master/LICENSE"><img alt="GitHub license" src="https://img.shields.io/github/license/gnikit/fortls" /></a>
<a class="reference external" href="https://github.com/psf/black"><img alt="Code style: black" src="https://img.shields.io/badge/code%20style-black-000000.svg" /></a></p>
<p><a class="reference external" href="https://github.com/sponsors/gnikit"><img alt="GitHub Sponsor" src="https://img.shields.io/static/v1?style=social&amp;label=Sponsor&amp;message=%E2%9D%A4&amp;logo=GitHub&amp;color&amp;link=%3Curl%3E" /></a>
<a class="reference external" href="https://paypal.me/inikit"><img alt="PayPal" src="https://img.shields.io/static/v1?style=social&amp;label=Donate&amp;message=%E2%9D%A4&amp;logo=Paypal&amp;color&amp;link=%3Curl%3E" /></a></p>
<p><img alt="alt" src="https://raw.githubusercontent.com/gnikit/fortls/master/assets/animations/intro-demo.gif" /></p>
<p><code class="docutils literal notranslate"><span class="pre">fortls</span></code> is an implementation of the <a class="reference external" href="https://github.com/Microsoft/language-server-protocol">Language Server Protocol</a>
(LSP) for Fortran using Python (3.7+).</p>
<p>All code editors that support LSP can integrate with <code class="docutils literal notranslate"><span class="pre">fortls</span></code> see the section
<a class="reference external" href="https://gnikit.github.io/fortls/editor_integration.html#editor-integration">Editor Integration</a> in the documentation.
Some supported code editors include:
<a class="reference external" href="https://gnikit.github.io/fortls/editor_integration.html#visual-studio-code">Visual Studio Code</a>,
<a class="reference external" href="https://gnikit.github.io/fortls/editor_integration.html#atom">Atom</a>,
<a class="reference external" href="https://gnikit.github.io/fortls/editor_integration.html#sublime-text">Sublime Text</a>,
<a class="reference external" href="https://gnikit.github.io/fortls/editor_integration.html#vim-neovim-gvim">(Neo)Vim</a>,
and <a class="reference external" href="https://gnikit.github.io/fortls/editor_integration.html#emacs">Emacs</a>.</p>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Project-wide and Document symbol detection and Renaming</p></li>
<li><p>Hover support, Signature help and Auto-completion</p></li>
<li><p>GoTo/Peek implementation and Find/Peek references</p></li>
<li><p>Preprocessor support</p></li>
<li><p>Documentation parsing (<a class="reference external" href="http://www.doxygen.org/">Doxygen</a> and
<a class="reference external" href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a> styles)</p></li>
<li><p>Access to multiple intrinsic modules and functions</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">ISO_FORTRAN_ENV</span></code> GCC 11.2.0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IOS_C_BINDING</span></code> GCC 11.2.0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IEEE_EXCEPTIONS</span></code>, <code class="docutils literal notranslate"><span class="pre">IEEE_ARITHMETIC</span></code>, <code class="docutils literal notranslate"><span class="pre">IEEE_FEATURES</span></code> GCC 11.2.0</p></li>
<li><p>OpenMP <code class="docutils literal notranslate"><span class="pre">OMP_LIB</span></code>, <code class="docutils literal notranslate"><span class="pre">OMP_LIB_KINDS</span></code> v5.0</p></li>
<li><p>OpenACC <code class="docutils literal notranslate"><span class="pre">OPENACC</span></code>, <code class="docutils literal notranslate"><span class="pre">OPENACC_KINDS</span></code> v3.1</p></li>
</ul>
</li>
<li><p>Diagnostics</p>
<ul>
<li><p>Multiple definitions with the same variable name</p></li>
<li><p>Variable definition masks definition from parent scope</p></li>
<li><p>Missing subroutine/function arguments</p></li>
<li><p>Unknown user-defined type used in <code class="docutils literal notranslate"><span class="pre">TYPE</span></code>/<code class="docutils literal notranslate"><span class="pre">CLASS</span></code> definition
(only if visible in project)</p></li>
<li><p>Unclosed blocks/scopes</p></li>
<li><p>Invalid scope nesting</p></li>
<li><p>Unknown modules in <code class="docutils literal notranslate"><span class="pre">USE</span></code> statement</p></li>
<li><p>Unimplemented deferred type-bound procedures</p></li>
<li><p>Use of non-imported variables/objects in interface blocks</p></li>
<li><p>Statement placement errors (<code class="docutils literal notranslate"><span class="pre">CONTAINS</span></code>, <code class="docutils literal notranslate"><span class="pre">IMPLICIT</span></code>, <code class="docutils literal notranslate"><span class="pre">IMPORT</span></code>)</p></li>
</ul>
</li>
<li><p>Code actions</p>
<ul>
<li><p>Generate type-bound procedures and implementation templates for
deferred procedures</p></li>
</ul>
</li>
</ul>
<section id="notes-limitations">
<h3>Notes/Limitations<a class="headerlink" href="#notes-limitations" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Signature help and hover does not handle elegantly overloaded functions i.e. interfaces</p></li>
</ul>
</section>
</section>
<section id="fortls-vs-fortran-language-server">
<h2><code class="docutils literal notranslate"><span class="pre">fortls</span></code> vs <code class="docutils literal notranslate"><span class="pre">fortran-language-server</span></code><a class="headerlink" href="#fortls-vs-fortran-language-server" title="Permalink to this headline"></a></h2>
<p>This project was originally based on <code class="docutils literal notranslate"><span class="pre">fortran-language-server</span></code> LSP implementation, but the two projects have since diverged.</p>
<p><code class="docutils literal notranslate"><span class="pre">fortls</span></code> (this project) is now developed independently of the upstream <code class="docutils literal notranslate"><span class="pre">hansec/fortran-language-server</span></code> project and contains numerous new features and bug fixes
the original <code class="docutils literal notranslate"><span class="pre">fortran-language-server</span></code> does not.</p>
<p>For a complete and detailed list of the differences between the two Language Servers
see the Documentation section: <a class="reference external" href="https://gnikit.github.io/fortls/fortls_changes.html">Unique fortls features (not in fortran-language-server)</a></p>
<p>The name of executable for this project has been chosen to remain <code class="docutils literal notranslate"><span class="pre">fortls</span></code>
to allow for integration with pre-existing plugins and workflows, but it could
change in the future.</p>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h2>
<section id="pypi">
<h3>PyPi<a class="headerlink" href="#pypi" title="Permalink to this headline"></a></h3>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip install fortls
</pre></div>
</div>
</section>
<section id="anaconda">
<h3>Anaconda<a class="headerlink" href="#anaconda" title="Permalink to this headline"></a></h3>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>conda install -c conda-forge fortls
</pre></div>
</div>
<p>for more information about the Anaconda installation <a class="reference external" href="https://github.com/conda-forge/fortls-feedstock#about-fortls">see</a></p>
</section>
<section id="common-installation-problems">
<h3>Common installation problems<a class="headerlink" href="#common-installation-problems" title="Permalink to this headline"></a></h3>
<p>It is <strong>NOT</strong> recommended having <code class="docutils literal notranslate"><span class="pre">fortls</span></code> and <code class="docutils literal notranslate"><span class="pre">fortran-language-server</span></code>
simultaneously installed, since they use the same binary name. If you are having trouble
getting <code class="docutils literal notranslate"><span class="pre">fortls</span></code> to work try uninstalling <code class="docutils literal notranslate"><span class="pre">fortran-language-server</span></code> and reinstalling <code class="docutils literal notranslate"><span class="pre">fortls</span></code>.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">pip</span></code></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip uninstall fortran-language-server
pip install fortls --upgrade
</pre></div>
</div>
<p>or with Anaconda</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>conda uninstall fortran-language-server
conda install -c conda-forge fortls
</pre></div>
</div>
</section>
</section>
<section id="settings">
<h2>Settings<a class="headerlink" href="#settings" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">fortls</span></code> can be configured through both the command line e.g.
<code class="docutils literal notranslate"><span class="pre">fortls</span> <span class="pre">--hover_signature</span></code> or through a Configuration json file.
The two interfaces are identical and a full list of the available options can
be found in the <a class="reference external" href="https://gnikit.github.io/fortls/options.html">Documentation</a>
or through <code class="docutils literal notranslate"><span class="pre">fortls</span> <span class="pre">-h</span></code></p>
<p>An example for a Configuration file is given below</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;incremental_sync&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;lowercase_intrinsics&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;hover_signature&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;use_signature_help&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;excl_paths&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;tests/**&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tools/**&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;excl_suffixes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;_skip.f90&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;include_dirs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;include/**&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;pp_suffixes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;.F90&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;.h&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;pp_defs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;HAVE_HDF5&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;MPI_Comm&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="implemented-server-requests">
<h2>Implemented server requests<a class="headerlink" href="#implemented-server-requests" title="Permalink to this headline"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Request</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">workspace/symbol</span></code></p></td>
<td><p>Get workspace-wide symbols</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/documentSymbol</span></code></p></td>
<td><p>Get document symbols e.g. functions, subroutines, etc.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/completion</span></code></p></td>
<td><p>Suggested tab-completion when typing</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/signatureHelp</span></code></p></td>
<td><p>Get signature information at a given cursor position</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/definition</span></code></p></td>
<td><p>GoTo definition/Peek definition</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/references</span></code></p></td>
<td><p>Find all/Peek references</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/documentHighlight</span></code></p></td>
<td><p>Same as <code class="docutils literal notranslate"><span class="pre">textDocument/references</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/hover</span></code></p></td>
<td><p>Show messages and signatures upon hover</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/implementation</span></code></p></td>
<td><p>GoTo implementation/Peek implementation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/rename</span></code></p></td>
<td><p>Rename a symbol across the workspace</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/didOpen</span></code></p></td>
<td><p>Document synchronisation upon opening</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/didSave</span></code></p></td>
<td><p>Document synchronisation upon saving</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/didClose</span></code></p></td>
<td><p>Document synchronisation upon closing</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/didChange</span></code></p></td>
<td><p>Document synchronisation upon changes to the document</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">textDocument/codeAction</span></code></p></td>
<td><p><strong>Experimental</strong> Generate code</p></td>
</tr>
</tbody>
</table>
</section>
<section id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this headline"></a></h2>
<p>This project would not have been possible without the original work of <a class="reference external" href="https://github.com/hansec/">&#64;hansec</a>
in <a class="reference external" href="https://github.com/hansec/fortran-language-server"><code class="docutils literal notranslate"><span class="pre">fortran-language-server</span></code></a></p>
<!-- ## Support

If you want to support this project you can do it through

[![Alt](https://www.paypalobjects.com/webstatic/mktg/Logo/pp-logo-150px.png)](https://paypal.me/inikit)
[!["Buy Me A Coffee"](https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png)](https://www.buymeacoffee.com/gnikit) -->
</section>
<section id="bug-reports">
<h2>Bug reports<a class="headerlink" href="#bug-reports" title="Permalink to this headline"></a></h2>
<p>When <a class="reference external" href="https://github.com/gnikit/fortls/issues/new">filing bugs</a>
please provide example code to reproduce the observed issue.</p>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline"></a></h2>
<p>This project is made available under the <a class="reference external" href="https://github.com/gnikit/fortls/blob/master/LICENSE">MIT License</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="fortls – Fortran Language Server" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="options.html" class="btn btn-neutral float-right" title="Configuration options" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Giannis Nikiteas.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>